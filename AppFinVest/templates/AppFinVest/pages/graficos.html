{% extends 'global/base.html' %}

{% block title %}GrÃ¡ficos Financeiros{% endblock %}

{% block content %}

<div class=corpo-pagina>
    <div class="sidebar">
        <ul class="menu">
            <li>
                <a href="../visao-geral" class="menu-item">
                    <span class="icon">ðŸ“‚</span>
                    <span class="text">VisÃ£o Geral</span>
                </a>
            </li>
            <li>
                <a href="" class="menu-item">
                    <span class="icon">ðŸ“Š</span>
                    <span class="text">GrÃ¡ficos</span>
                </a>
            </li>
            <li>
                <a href="#" class="menu-item">
                    <span class="icon">ðŸŽ¯</span>
                    <span class="text">Metas</span>
                </a>
            </li>
            <li>
                <a href="../acoes" class="menu-item">
                    <span class="icon">ðŸ“ˆ</span>
                    <span class="text">AÃ§Ãµes</span>
                </a>
            </li>
            <li>
                <a href="../criptomoedas" class="menu-item ultimo-item">
                    <span class="icon">ðŸ’²</span>
                    <span class="text">Criptomoedas</span>
                </a>
            </li>
        </ul>
    </div>
    <div class="conteudo-principal">
        <h1>Seu Resumo Financeiro</h1>

        <div class="info-section">
            <p>Bem-vindo {{usuario}} ao seu painel financeiro! Aqui vocÃª pode acompanhar suas informaÃ§Ãµes de renda, dÃ­vidas e patrimÃ´nio, alÃ©m de visualizar sua evoluÃ§Ã£o ao longo do tempo.</p>
            <div class="info-boxes">
                <div class="info-box">
                    <h2>Renda Mensal</h2>
                    <p>R$ {{ renda_atual }}</p>
                </div>
                <div class="info-box">
                    <h2>Total de DÃ­vidas</h2>
                    <p>R$ {{ divida_atual }}</p>
                </div>
                <div class="info-box">
                    <h2>PatrimÃ´nio Atual</h2>
                    <p>R$ {{ patrimonio_atual }}</p>
                </div>
            </div>
        </div>

        <div class="form-container">
            <h2>Atualizar Dados Financeiros</h2>
            <form method="POST" action="">
                {% csrf_token %}
                <div class="form-group">
                    <label for="renda">Renda Mensal:</label>
                    <input type="number" step="0.01" name="renda" id="renda" value="{{ renda_atual }}" required>
                </div>
                <div class="form-group">
                    <label for="divida">Total de DÃ­vidas:</label>
                    <input type="number" step="0.01" name="divida" id="divida" value="{{ divida_atual }}" required>
                </div>
                <div class="form-group">
                    <label for="patrimonio">PatrimÃ´nio Atual:</label>
                    <input type="number" step="0.01" name="patrimonio" id="patrimonio" value="{{ patrimonio_atual }}" required>
                </div>
                <button type="submit">Atualizar</button>
            </form>
        </div>

        <div class="graficos-container">
            <!-- GrÃ¡fico 1: PatrimÃ´nio ao longo do tempo -->
            <canvas id="grafico-patrimonio" 
            data-meses="{{ meses }}" 
            data-patrimonio="{{ patrimonio }}">
            </canvas>

            <!-- GrÃ¡fico 2: Comparativo entre renda e dÃ­vidas -->
            <canvas id="grafico-renda-dividas" 
            data-meses="{{ meses }}" 
            data-renda="{{ renda }}" 
            data-dividas="{{ dividas }}">
            </canvas>
        </div>
    </div>


{% endblock content %}